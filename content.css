/* 
 * ByeByeBot Styles
 * @description 定义单向关注卡片的视觉高亮效果与微动效
 * Design System: Modern Glassmorphism
 */

:root {
  /* 核心色调：使用更具活力的红橙色渐变 */
  --byebyebot-gradient-start: #ff4d4d;
  --byebyebot-gradient-end: #f72a2a;
  
  /* 阴影体系 */
  --byebyebot-shadow-soft: 0 4px 20px rgba(255, 77, 77, 0.25);
  
  /* 字体颜色 */
  --byebyebot-text-color: #ffffff;
}

/* 标记单向关注的容器 (UserCell) */
.byebyebot-target {
  /* 使用 !important 配合 inset shadow 确保样式不被 X 的 hover 背景色覆盖 */
  box-shadow: inset 0 0 0 2px var(--byebyebot-gradient-start) !important;
  border-radius: 16px !important;
  position: relative !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 1; /* 确保层级 */
}

.byebyebot-target:hover {
  /* 悬停时强制保持红框，并增加外发光 */
  box-shadow: inset 0 0 0 2px var(--byebyebot-gradient-end), 
              0 0 20px rgba(255, 77, 77, 0.15) !important;
  background-color: rgba(255, 77, 77, 0.03) !important; 
  transform: translateY(-1px);
}

/* "ByeBye?" 徽章 */
.byebyebot-badge {
  position: absolute;
  /* 修复 Bug 3: 移至头像正下方 */
  bottom: -15px; 
  left: 50%;
  transform: translateX(-50%) scale(0.9); /* 居中并稍微缩小 */
  
  width: max-content; /* 宽度自适应内容 */
  
  /* 玻璃拟态背景 (Glassmorphism) */
  background: linear-gradient(135deg, var(--byebyebot-gradient-start), var(--byebyebot-gradient-end));
  
  color: var(--byebyebot-text-color);
  font-size: 10px; /* 字体再次微调，适应小空间 */
  font-weight: 800;
  letter-spacing: 0.5px;
  padding: 2px 8px; /* 减小内边距 */
  border-radius: 99px;
  
  z-index: 20; /* 确保在头像之上 (如果有重叠) */
  box-shadow: var(--byebyebot-shadow-soft);
  
  /* 交互属性 */
  pointer-events: none;
  user-select: none;
  
  /* 字体栈 */
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  line-height: 1.2;

  /* 细腻的入场动画 */
  animation: byebyebot-pop-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  opacity: 0;
}

/* 确保 Avatar 容器可以作为定位基准 (虽然 X 可能已经是 relative，但我们加个保险) */
[data-testid^="UserAvatar-Container-"] {
  position: relative !important; /* 强制 relative，让 absolute 的 badge 依据它定位 */
  overflow: visible !important;  /* 关键：允许 Badge 超出头像容器的圆形遮罩 */
}

@keyframes byebyebot-pop-in {
  from {
    opacity: 0;
    transform: translateX(-50%) scale(0.5) translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) scale(0.9) translateY(0);
  }
}